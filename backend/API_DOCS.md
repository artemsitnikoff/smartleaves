# üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç "–£–º–Ω—ã–µ –ª–∏—Å—Ç–æ—á–∫–∏" –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é RESTful API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —á–µ—Ä–µ–∑ Swagger/OpenAPI.

## üöÄ –î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (`python manage.py runserver`) –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

### 1. Swagger UI (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
**URL:** http://127.0.0.1:8000/api/docs/

Swagger UI - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è:
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö API endpoints
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ò–∑—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/api/docs/
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π endpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä, GET /api/worksheets/)
3. –ù–∞–∂–º–∏—Ç–µ "Try it out"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. –ù–∞–∂–º–∏—Ç–µ "Execute"
6. –£–≤–∏–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç API

### 2. ReDoc (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
**URL:** http://127.0.0.1:8000/api/redoc/

ReDoc - —ç—Ç–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–±–µ–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- –õ—É—á—à–µ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è API
- –£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö

### 3. OpenAPI Schema (JSON)
**URL:** http://127.0.0.1:8000/api/schema/

–ß–∏—Å—Ç–∞—è OpenAPI 3.0 —Å—Ö–µ–º–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –¥–ª—è:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ò–º–ø–æ—Ä—Ç–∞ –≤ Postman/Insomnia
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

API —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∞:

### 1. üìÑ –†–∞–±–æ—á–∏–µ –ª–∏—Å—Ç—ã

**GET /api/worksheets/**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞–±–æ—á–∏—Ö –ª–∏—Å—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —É—Ä–æ–≤–Ω—é, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

**GET /api/worksheets/{slug}/**
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—á–µ–º –ª–∏—Å—Ç–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

**GET /api/worksheets/{id}/download/**
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF —Ñ–∞–π–ª–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏–π

### 2. üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

**GET /api/categories/**
- –ü–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**GET /api/categories/tree/**
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (—Ä–æ–¥–∏—Ç–µ–ª–∏ ‚Üí –¥–µ—Ç–∏)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–µ–Ω—é

**GET /api/categories/{slug}/**
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 3. üè∑ –¢–µ–≥–∏

**GET /api/tags/**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–µ–≥–æ–≤ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏

**GET /api/tags/popular/**
- –¢–æ–ø-20 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–µ–≥–æ–≤
- –î–ª—è –æ–±–ª–∞–∫–∞ —Ç–µ–≥–æ–≤

**GET /api/tags/{slug}/**
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–≥–µ

### 4. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

**GET /api/settings/**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞
- –ö–æ–Ω—Ç–∞–∫—Ç—ã, —Ç–µ–∫—Å—Ç—ã, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Wagtail Admin

---

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—á–∏—Ö –ª–∏—Å—Ç–æ–≤ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ

```bash
GET /api/worksheets/?search=–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞
```

### –ü–æ–ª—É—á–∏—Ç—å –ª–∏—Å—Ç—ã –¥–ª—è 1 –∫–ª–∞—Å—Å–∞ —Å—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

```bash
GET /api/worksheets/?grade_level=grade1&difficulty=medium
```

### –ü–æ–ª—É—á–∏—Ç—å –ª–∏—Å—Ç—ã –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```bash
GET /api/worksheets/?category=5
```

### –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ª–∏—Å—Ç—ã

```bash
GET /api/worksheets/?ordering=-downloads_count&page_size=10
```

### –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –º–µ–Ω—é

```bash
GET /api/categories/tree/
```

---

## üì¶ –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200 OK)

#### –°–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π:
```json
{
  "count": 28,
  "total_pages": 2,
  "current_page": 1,
  "page_size": 20,
  "next": "http://127.0.0.1:8000/api/worksheets/?page=2",
  "previous": null,
  "results": [...]
}
```

#### –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç:
```json
{
  "id": 1,
  "title": "–°–ª–æ–∂–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 10",
  "slug": "slozhenie-v-predelah-10",
  ...
}
```

### –û—à–∏–±–∫–∞ (404 Not Found)
```json
{
  "detail": "Not found."
}
```

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–§–æ—Ä–º–∞—Ç:** JSON
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- **CORS:** –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 3000, 5173
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 20 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Swagger UI:** http://127.0.0.1:8000/api/docs/
- **ReDoc:** http://127.0.0.1:8000/api/redoc/
- **OpenAPI Schema:** http://127.0.0.1:8000/api/schema/
- **Wagtail Admin:** http://127.0.0.1:8000/admin/
- **Django Admin:** http://127.0.0.1:8000/django-admin/

---

## üìù –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –ò–º–ø–æ—Ä—Ç –≤ Postman
1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. File ‚Üí Import
3. –í—Å—Ç–∞–≤—å—Ç–µ URL: http://127.0.0.1:8000/api/schema/
4. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenAPI Generator –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:

```bash
# –î–ª—è TypeScript/JavaScript
openapi-generator-cli generate -i http://127.0.0.1:8000/api/schema/ -g typescript-axios -o ./api-client
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Vue.js

```javascript
// –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å–ø–∏—Å–∫–∞ —Ä–∞–±–æ—á–∏—Ö –ª–∏—Å—Ç–æ–≤
async function fetchWorksheets(page = 1, filters = {}) {
  const params = new URLSearchParams({
    page,
    ...filters
  });

  const response = await fetch(`/api/worksheets/?${params}`);
  const data = await response.json();

  return data;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const worksheets = await fetchWorksheets(1, {
  grade_level: 'grade1',
  difficulty: 'easy'
});

console.log(worksheets.results); // –ú–∞—Å—Å–∏–≤ —Ä–∞–±–æ—á–∏—Ö –ª–∏—Å—Ç–æ–≤
console.log(worksheets.total_pages); // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
```

---

**üé® –ì–æ—Ç–æ–≤–æ! API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
